from selenium import webdriver
from fake_useragent import UserAgent
# from http_request_randomizer.requests.proxy.requestProxy import RequestProxy
from selenium.webdriver.firefox.options import Options as FirefoxOptions
from selenium.webdriver.common.proxy import Proxy, ProxyType
import chromedriver_autoinstaller

import random
chromedriver_autoinstaller.install()

# Create a new instance of the UserAgent class
ua = UserAgent()

# Create a new instance of the RequestProxy class
# req_proxy = RequestProxy()

# Get the list of proxies
proxies = [
    '117.54.114.102:80', '198.211.117.231:80', '201.217.49.2:80', '152.67.103.55:8080', '50.218.57.69:80', '50.221.203.205:80', '107.1.93.211:80', '50.204.219.230:80',
    '50.223.129.111:80', '50.171.68.130:80', '50.168.210.226:80', '103.163.51.254:80', '50.217.153.72:80', '50.221.227.130:80', '50.171.32.224:80', '50.217.153.78:80',
    '50.174.7.158:80', '103.77.60.14:80', '103.149.130.38:80', '50.228.141.96:80', '107.1.93.216:80', '50.231.110.26:80', '50.237.89.161:80', '13.81.217.201:80',
    '50.173.157.72:80', '77.73.241.154:80', '50.169.91.138:80', '50.217.226.47:80', '50.207.199.80:80', '85.26.146.169:80', '47.177.148.110:80', '50.168.49.111:80',
    '50.200.12.81:80', '50.218.57.64:80', '213.143.113.82:80', '50.168.72.113:80', '50.217.226.42:80', '50.175.31.244:80', '50.173.140.146:80', '50.206.25.104:80',
    '50.200.12.83:80', '50.221.203.222:80', '107.1.93.219:80', '50.207.199.82:80', '184.10.84.74:80', '50.174.7.156:80', '50.238.154.98:80', '80.228.235.6:80', '50.207.253.118:80',
    '50.217.226.43:80', '50.219.106.85:80', '50.223.38.2:80', '50.228.141.100:80', '50.218.57.68:80', '50.221.203.210:80', '50.173.157.74:80', '32.223.6.94:80', '50.168.49.105:80',
    '50.221.203.195:80', '50.168.49.108:80', '50.237.89.165:80', '107.1.93.217:80', '50.168.10.150:80', '50.168.72.115:80', '50.169.62.106:80', '50.223.129.107:80',
    '50.228.141.98:80', '50.239.72.18:80', '50.168.49.109:80', '68.185.57.66:80', '20.111.54.16:8123', '107.1.93.223:80', '50.227.121.33:80', '194.158.203.14:80',
    '50.168.10.162:80', '20.206.106.192:80', '50.223.129.106:80', '50.223.129.109:80', '0.0.0.0:80', '50.221.203.193:80', '50.227.121.39:80', '50.219.106.82:80', '50.171.2.11:80',
    '50.206.25.106:80', '190.61.88.147:8080', '50.227.121.36:80', '50.173.140.147:80', '50.174.7.157:80', '107.1.93.214:80', '50.221.203.209:80', '50.218.57.67:80',
    '50.168.10.158:80', '50.223.129.104:80', '50.227.121.37:80', '127.0.0.7:80', '50.207.199.81:80', '50.168.10.157:80', '189.204.137.226:80', '50.169.62.114:80',
    '50.223.129.110:80', '190.131.195.170:999', '139.255.123.114:8080', '41.77.188.131:80', '116.111.217.47:14050', '195.133.45.149:7788', '47.74.226.8:5001', '50.217.153.75:80',
    '50.169.62.109:80', '109.123.233.239:3128', '50.171.32.229:80', '13.95.173.197:80']

# Randomly choose a proxy
proxy_to_use = random.choice(proxies)

# Firefox options
options = FirefoxOptions()

# Set a random user-agent
options.add_argument(f'user-agent={ua.random}')

# Proxy settings
proxy = Proxy()
proxy.proxy_type = ProxyType.MANUAL
proxy.http_proxy = proxy_to_use
proxy.ssl_proxy = proxy_to_use

# Capabilities
capabilities = webdriver.DesiredCapabilities.FIREFOX
proxy.add_to_capabilities(capabilities)

# Create a new instance of the Firefox driver
driver = webdriver.Firefox(desired_capabilities=capabilities, options=options)

# go to website
driver.get('http://www.google.com')
